<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# checker

```go
import "github.com/luisdavim/synthetic-checker/pkg/checker"
```

## Index

- [type Runner](<#type-runner>)
  - [func NewFromConfig(cfg config.Config, start bool) (*Runner, error)](<#func-newfromconfig>)
  - [func (r *Runner) AddCheck(name string, check api.Check, start bool)](<#func-runner-addcheck>)
  - [func (r *Runner) AddFromConfig(cfg config.Config, start bool) error](<#func-runner-addfromconfig>)
  - [func (r *Runner) Check(ctx context.Context)](<#func-runner-check>)
  - [func (r *Runner) DelCheck(name string)](<#func-runner-delcheck>)
  - [func (r *Runner) GetStatus() api.Statuses](<#func-runner-getstatus>)
  - [func (r *Runner) GetStatusFor(name string) (api.Status, bool)](<#func-runner-getstatusfor>)
  - [func (r *Runner) RefreshUpstreams()](<#func-runner-refreshupstreams>)
  - [func (r *Runner) Run(ctx context.Context)](<#func-runner-run>)
  - [func (r *Runner) Start() context.CancelFunc](<#func-runner-start>)
  - [func (r *Runner) Stop()](<#func-runner-stop>)
  - [func (r *Runner) Summary() (allFailed, anyFailed bool)](<#func-runner-summary>)
  - [func (r *Runner) Syncer(useSSL bool, port int) func(string)](<#func-runner-syncer>)


## type [Runner](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L42-L51>)

Runner reprents the main checks runner \(checker\) responsible for scheduling and executing \(running\) all the checks

```go
type Runner struct {
    sync.RWMutex
    // contains filtered or unexported fields
}
```

### func [NewFromConfig](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L54>)

```go
func NewFromConfig(cfg config.Config, start bool) (*Runner, error)
```

NewFromConfig creates a check runner from the given configuration

### func \(\*Runner\) [AddCheck](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L142>)

```go
func (r *Runner) AddCheck(name string, check api.Check, start bool)
```

AddCheck schedules a new check

### func \(\*Runner\) [AddFromConfig](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L84>)

```go
func (r *Runner) AddFromConfig(cfg config.Config, start bool) error
```

AddFromConfig loads the checks from the given configuration

### func \(\*Runner\) [Check](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L341>)

```go
func (r *Runner) Check(ctx context.Context)
```

Check runs all the checks in parallel and waits for them to complete

### func \(\*Runner\) [DelCheck](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L162>)

```go
func (r *Runner) DelCheck(name string)
```

DelCheck stops the given check and removes it from the running config

### func \(\*Runner\) [GetStatus](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L180>)

```go
func (r *Runner) GetStatus() api.Statuses
```

GetStatus returns the overall status of all the checks

### func \(\*Runner\) [GetStatusFor](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L185>)

```go
func (r *Runner) GetStatusFor(name string) (api.Status, bool)
```

GetStatusFor returns the status for the given check

### func \(\*Runner\) [RefreshUpstreams](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L241>)

```go
func (r *Runner) RefreshUpstreams()
```

### func \(\*Runner\) [Run](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L227>)

```go
func (r *Runner) Run(ctx context.Context)
```

Run schedules all the checks, running them periodically in the background, according to their configuration in the informer is configured, it will also set up a refresher to ensure the configuration is eventually consistent, even if we miss update events

### func \(\*Runner\) [Start](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L219>)

```go
func (r *Runner) Start() context.CancelFunc
```

Start schedules all the checks, running them periodically in the background, according to their configuration

### func \(\*Runner\) [Stop](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L295>)

```go
func (r *Runner) Stop()
```

Stop stops all checks

### func \(\*Runner\) [Summary](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L354>)

```go
func (r *Runner) Summary() (allFailed, anyFailed bool)
```

### func \(\*Runner\) [Syncer](<https://github.com/luisdavim/synthetic-checker/blob/main/pkg/checker/checker.go#L305>)

```go
func (r *Runner) Syncer(useSSL bool, port int) func(string)
```

Syncer returns a sync function that fetches the state from the leader



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
